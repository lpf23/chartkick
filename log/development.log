  [1m[36m (25.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (17.6ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateVisits (20140827031917)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (15.9ms)[0m  [1mCREATE TABLE "visits" ("id" serial primary key, "country" character varying(255), "visited_at" timestamp, "load_time" decimal, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140827031917"]]
  [1m[36m (3.1ms)[0m  [1mCOMMIT[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "visits"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (16.5ms)[0m  INSERT INTO "visits" ("country", "created_at", "load_time", "updated_at", "visited_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["country", "United States"], ["created_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00], ["load_time", #<BigDecimal:413ce38,'0.35E1',18(45)>], ["updated_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00], ["visited_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00]]
  [1m[36m (8.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "visits" ("country", "created_at", "load_time", "updated_at", "visited_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["country", "United States"], ["created_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00], ["load_time", #<BigDecimal:4182fc8,'0.15E1',18(45)>], ["updated_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00], ["visited_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00]]
  [1m[35m (1.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "visits" ("country", "created_at", "load_time", "updated_at", "visited_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["country", "United States"], ["created_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00], ["load_time", #<BigDecimal:4188b80,'0.1E1',9(45)>], ["updated_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00], ["visited_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "visits" ("country", "created_at", "load_time", "updated_at", "visited_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["country", "United States"], ["created_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00], ["load_time", #<BigDecimal:4195d30,'0.45E1',18(45)>], ["updated_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00], ["visited_at", Tue, 26 Aug 2014 03:29:19 UTC +00:00]]
  [1m[35m (1.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "visits" ("country", "created_at", "load_time", "updated_at", "visited_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["country", "United States"], ["created_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00], ["load_time", #<BigDecimal:41a6ea0,'0.4E1',9(45)>], ["updated_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00], ["visited_at", Tue, 26 Aug 2014 03:29:19 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "visits" ("country", "created_at", "load_time", "updated_at", "visited_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["country", "United States"], ["created_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00], ["load_time", #<BigDecimal:41ac0d0,'0.35E1',18(45)>], ["updated_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00], ["visited_at", Mon, 25 Aug 2014 03:29:19 UTC +00:00]]
  [1m[35m (1.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "visits" ("country", "created_at", "load_time", "updated_at", "visited_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["country", "United States"], ["created_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00], ["load_time", #<BigDecimal:41b9258,'0.1E1',9(45)>], ["updated_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00], ["visited_at", Mon, 25 Aug 2014 03:29:19 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "visits" ("country", "created_at", "load_time", "updated_at", "visited_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["country", "United States"], ["created_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00], ["load_time", #<BigDecimal:41ca418,'0.35E1',18(45)>], ["updated_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00], ["visited_at", Mon, 25 Aug 2014 03:29:19 UTC +00:00]]
  [1m[35m (1.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "visits" ("country", "created_at", "load_time", "updated_at", "visited_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["country", "United States"], ["created_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00], ["load_time", #<BigDecimal:41d75a0,'0.45E1',18(45)>], ["updated_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00], ["visited_at", Sun, 24 Aug 2014 03:29:19 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "visits" ("country", "created_at", "load_time", "updated_at", "visited_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["country", "United States"], ["created_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00], ["load_time", #<BigDecimal:41dc7d0,'0.3E1',9(45)>], ["updated_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00], ["visited_at", Sun, 24 Aug 2014 03:29:19 UTC +00:00]]
  [1m[35m (1.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "visits" ("country", "created_at", "load_time", "updated_at", "visited_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["country", "Germany"], ["created_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00], ["load_time", #<BigDecimal:41ea330,'0.1E1',9(45)>], ["updated_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00], ["visited_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00]]
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "visits" ("country", "created_at", "load_time", "updated_at", "visited_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["country", "Germany"], ["created_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00], ["load_time", #<BigDecimal:41fbec8,'0.2E1',9(45)>], ["updated_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00], ["visited_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00]]
  [1m[35m (1.9ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "visits" ("country", "created_at", "load_time", "updated_at", "visited_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["country", "Germany"], ["created_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00], ["load_time", #<BigDecimal:4201a80,'0.1E1',9(45)>], ["updated_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00], ["visited_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "visits" ("country", "created_at", "load_time", "updated_at", "visited_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["country", "Germany"], ["created_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00], ["load_time", #<BigDecimal:420f608,'0.3E1',9(45)>], ["updated_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00], ["visited_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00]]
  [1m[35m (1.9ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "visits" ("country", "created_at", "load_time", "updated_at", "visited_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["country", "Germany"], ["created_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00], ["load_time", #<BigDecimal:42147e8,'0.4E1',9(45)>], ["updated_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00], ["visited_at", Tue, 26 Aug 2014 03:29:19 UTC +00:00]]
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "visits" ("country", "created_at", "load_time", "updated_at", "visited_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["country", "Germany"], ["created_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00], ["load_time", #<BigDecimal:4221998,'0.2E1',9(45)>], ["updated_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00], ["visited_at", Mon, 25 Aug 2014 03:29:19 UTC +00:00]]
  [1m[35m (1.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "visits" ("country", "created_at", "load_time", "updated_at", "visited_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["country", "Germany"], ["created_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00], ["load_time", #<BigDecimal:4232b08,'0.1E1',9(45)>], ["updated_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00], ["visited_at", Mon, 25 Aug 2014 03:29:19 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "visits" ("country", "created_at", "load_time", "updated_at", "visited_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["country", "Germany"], ["created_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00], ["load_time", #<BigDecimal:423fcb8,'0.3E1',9(45)>], ["updated_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00], ["visited_at", Mon, 25 Aug 2014 03:29:19 UTC +00:00]]
  [1m[35m (2.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "visits" ("country", "created_at", "load_time", "updated_at", "visited_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["country", "Germany"], ["created_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00], ["load_time", #<BigDecimal:4244e98,'0.35E1',18(45)>], ["updated_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00], ["visited_at", Sun, 24 Aug 2014 03:29:19 UTC +00:00]]
  [1m[36m (3.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "visits" ("country", "created_at", "load_time", "updated_at", "visited_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["country", "South Korea"], ["created_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00], ["load_time", #<BigDecimal:4252a20,'0.2E1',9(45)>], ["updated_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00], ["visited_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00]]
  [1m[35m (1.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "visits" ("country", "created_at", "load_time", "updated_at", "visited_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["country", "South Korea"], ["created_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00], ["load_time", #<BigDecimal:42585d8,'0.25E1',18(45)>], ["updated_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00], ["visited_at", Wed, 27 Aug 2014 03:29:19 UTC +00:00]]
  [1m[36m (23.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "visits" ("country", "created_at", "load_time", "updated_at", "visited_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["country", "South Korea"], ["created_at", Wed, 27 Aug 2014 03:29:20 UTC +00:00], ["load_time", #<BigDecimal:4266188,'0.1E1',9(45)>], ["updated_at", Wed, 27 Aug 2014 03:29:20 UTC +00:00], ["visited_at", Wed, 27 Aug 2014 03:29:20 UTC +00:00]]
  [1m[35m (1.8ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "visits" ("country", "created_at", "load_time", "updated_at", "visited_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["country", "South Korea"], ["created_at", Wed, 27 Aug 2014 03:29:20 UTC +00:00], ["load_time", #<BigDecimal:4277cd0,'0.15E1',18(45)>], ["updated_at", Wed, 27 Aug 2014 03:29:20 UTC +00:00], ["visited_at", Wed, 27 Aug 2014 03:29:20 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "visits" ("country", "created_at", "load_time", "updated_at", "visited_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["country", "South Korea"], ["created_at", Wed, 27 Aug 2014 03:29:20 UTC +00:00], ["load_time", #<BigDecimal:427cf00,'0.25E1',18(45)>], ["updated_at", Wed, 27 Aug 2014 03:29:20 UTC +00:00], ["visited_at", Tue, 26 Aug 2014 03:29:20 UTC +00:00]]
  [1m[35m (1.8ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "visits" ("country", "created_at", "load_time", "updated_at", "visited_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["country", "South Korea"], ["created_at", Wed, 27 Aug 2014 03:29:20 UTC +00:00], ["load_time", #<BigDecimal:428a088,'0.4E1',9(45)>], ["updated_at", Wed, 27 Aug 2014 03:29:20 UTC +00:00], ["visited_at", Tue, 26 Aug 2014 03:29:20 UTC +00:00]]
  [1m[36m (2.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "visits" ("country", "created_at", "load_time", "updated_at", "visited_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["country", "South Korea"], ["created_at", Wed, 27 Aug 2014 03:29:20 UTC +00:00], ["load_time", #<BigDecimal:429b248,'0.3E1',9(45)>], ["updated_at", Wed, 27 Aug 2014 03:29:20 UTC +00:00], ["visited_at", Tue, 26 Aug 2014 03:29:20 UTC +00:00]]
  [1m[35m (2.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "visits" ("country", "created_at", "load_time", "updated_at", "visited_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["country", "South Korea"], ["created_at", Wed, 27 Aug 2014 03:29:20 UTC +00:00], ["load_time", #<BigDecimal:429c418,'0.1E1',9(45)>], ["updated_at", Wed, 27 Aug 2014 03:29:20 UTC +00:00], ["visited_at", Mon, 25 Aug 2014 03:29:20 UTC +00:00]]
  [1m[36m (2.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "visits" ("country", "created_at", "load_time", "updated_at", "visited_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["country", "South Korea"], ["created_at", Wed, 27 Aug 2014 03:29:20 UTC +00:00], ["load_time", #<BigDecimal:42ad5d8,'0.5E1',9(45)>], ["updated_at", Wed, 27 Aug 2014 03:29:20 UTC +00:00], ["visited_at", Sun, 24 Aug 2014 03:29:20 UTC +00:00]]
  [1m[35m (1.9ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "visits" ("country", "created_at", "load_time", "updated_at", "visited_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["country", "South Korea"], ["created_at", Wed, 27 Aug 2014 03:29:20 UTC +00:00], ["load_time", #<BigDecimal:42ba738,'0.4E1',9(45)>], ["updated_at", Wed, 27 Aug 2014 03:29:20 UTC +00:00], ["visited_at", Sun, 24 Aug 2014 03:29:20 UTC +00:00]]
  [1m[36m (2.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "visits" ("country", "created_at", "load_time", "updated_at", "visited_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["country", "South Korea"], ["created_at", Wed, 27 Aug 2014 03:29:20 UTC +00:00], ["load_time", #<BigDecimal:42cb8f8,'0.5E1',9(45)>], ["updated_at", Wed, 27 Aug 2014 03:29:20 UTC +00:00], ["visited_at", Sun, 24 Aug 2014 03:29:20 UTC +00:00]]
  [1m[35m (1.8ms)[0m  COMMIT


Started GET "/" for 67.198.97.43 at 2014-08-27 03:35:13 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by VisitsController#show as HTML
  [1m[35m (2.0ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  Rendered visits/show.html.erb within layouts/application (44.5ms)
Completed 200 OK in 1291ms (Views: 1251.9ms | ActiveRecord: 5.0ms)


Started GET "/assets/application.css?body=1" for 67.198.97.43 at 2014-08-27 03:35:15 +0000


Started GET "/assets/visits.css?body=1" for 67.198.97.43 at 2014-08-27 03:35:15 +0000


Started GET "/assets/jquery.js?body=1" for 67.198.97.43 at 2014-08-27 03:35:15 +0000


Started GET "/assets/jquery_ujs.js?body=1" for 67.198.97.43 at 2014-08-27 03:35:15 +0000


Started GET "/assets/application.js?body=1" for 67.198.97.43 at 2014-08-27 03:35:15 +0000


Started GET "/assets/visits.js?body=1" for 67.198.97.43 at 2014-08-27 03:35:15 +0000


Started GET "/assets/turbolinks.js?body=1" for 67.198.97.43 at 2014-08-27 03:35:15 +0000


Started GET "/assets/chartkick.js?body=1" for 67.198.97.43 at 2014-08-27 03:35:15 +0000


Started GET "/" for 67.198.97.43 at 2014-08-27 03:37:05 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by VisitsController#show as HTML
  [1m[35m (2.1ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.3ms)[0m  [1mSELECT country FROM "visits"[0m
  [1m[35m (1.2ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  Rendered visits/show.html.erb within layouts/application (72.2ms)
Completed 200 OK in 147ms (Views: 115.8ms | ActiveRecord: 6.8ms)


Started GET "/assets/visits.css?body=1" for 67.198.97.43 at 2014-08-27 03:37:06 +0000


Started GET "/assets/visits.js?body=1" for 67.198.97.43 at 2014-08-27 03:37:06 +0000


Started GET "/" for 67.198.97.43 at 2014-08-27 03:41:48 +0000
Processing by VisitsController#show as HTML
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT country FROM "visits"
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  Rendered visits/show.html.erb within layouts/application (16.6ms)
Completed 200 OK in 64ms (Views: 59.8ms | ActiveRecord: 3.2ms)


Started GET "/assets/application.css?body=1" for 67.198.97.43 at 2014-08-27 03:41:49 +0000


Started GET "/assets/visits.js?body=1" for 67.198.97.43 at 2014-08-27 03:41:49 +0000


Started GET "/assets/turbolinks.js?body=1" for 67.198.97.43 at 2014-08-27 03:41:49 +0000


Started GET "/assets/jquery.js?body=1" for 67.198.97.43 at 2014-08-27 03:41:49 +0000


Started GET "/assets/visits.css?body=1" for 67.198.97.43 at 2014-08-27 03:41:49 +0000


Started GET "/assets/jquery_ujs.js?body=1" for 67.198.97.43 at 2014-08-27 03:41:49 +0000


Started GET "/assets/application.js?body=1" for 67.198.97.43 at 2014-08-27 03:41:49 +0000


Started GET "/assets/chartkick.js?body=1" for 67.198.97.43 at 2014-08-27 03:41:49 +0000


Started GET "/" for 67.198.97.43 at 2014-08-27 03:42:50 +0000
Processing by VisitsController#show as HTML
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT country FROM "visits"
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  Rendered visits/show.html.erb within layouts/application (17.2ms)
Completed 200 OK in 34ms (Views: 30.5ms | ActiveRecord: 2.8ms)


Started GET "/assets/application.css?body=1" for 67.198.97.43 at 2014-08-27 03:42:50 +0000


Started GET "/assets/visits.js?body=1" for 67.198.97.43 at 2014-08-27 03:42:50 +0000


Started GET "/assets/turbolinks.js?body=1" for 67.198.97.43 at 2014-08-27 03:42:50 +0000


Started GET "/assets/visits.css?body=1" for 67.198.97.43 at 2014-08-27 03:42:50 +0000


Started GET "/assets/jquery.js?body=1" for 67.198.97.43 at 2014-08-27 03:42:50 +0000


Started GET "/assets/jquery_ujs.js?body=1" for 67.198.97.43 at 2014-08-27 03:42:50 +0000


Started GET "/assets/application.js?body=1" for 67.198.97.43 at 2014-08-27 03:42:50 +0000


Started GET "/assets/chartkick.js?body=1" for 67.198.97.43 at 2014-08-27 03:42:50 +0000


Started GET "/" for 67.198.97.43 at 2014-08-27 03:44:53 +0000
Processing by VisitsController#show as HTML
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.3ms)[0m  [1mSELECT country FROM "visits"[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36m (0.7ms)[0m  [1mSELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  Rendered visits/show.html.erb within layouts/application (21.6ms)
Completed 200 OK in 38ms (Views: 33.1ms | ActiveRecord: 3.7ms)


Started GET "/assets/application.css?body=1" for 67.198.97.43 at 2014-08-27 03:44:53 +0000


Started GET "/assets/application.js?body=1" for 67.198.97.43 at 2014-08-27 03:44:53 +0000


Started GET "/assets/jquery_ujs.js?body=1" for 67.198.97.43 at 2014-08-27 03:44:53 +0000


Started GET "/assets/jquery.js?body=1" for 67.198.97.43 at 2014-08-27 03:44:53 +0000


Started GET "/assets/visits.css?body=1" for 67.198.97.43 at 2014-08-27 03:44:53 +0000


Started GET "/assets/visits.js?body=1" for 67.198.97.43 at 2014-08-27 03:44:53 +0000


Started GET "/assets/turbolinks.js?body=1" for 67.198.97.43 at 2014-08-27 03:44:53 +0000


Started GET "/assets/chartkick.js?body=1" for 67.198.97.43 at 2014-08-27 03:44:53 +0000


Started GET "/" for 67.198.97.43 at 2014-08-27 04:01:58 +0000
Processing by VisitsController#show as HTML
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.3ms)[0m  [1mSELECT country FROM "visits"[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36m (0.5ms)[0m  [1mSELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mVisit Load (0.6ms)[0m  SELECT "visits".* FROM "visits"
  Rendered visits/show.html.erb within layouts/application (108.5ms)
Completed 500 Internal Server Error in 114ms

ActionView::Template::Error (undefined local variable or method `visits_by_day_home_path' for #<#<Class:0x007f39fc160c00>:0x007f39fc17bf28>):
    52: <!-- Line Chart - Single Series -->
    53: <div class="col-xs-12">
    54:   <h3>Visits By Day</h3>
    55:   <%= line_chart visits_by_day_home_path %>
    56: </div>
  app/views/visits/show.html.erb:55:in `_app_views_visits_show_html_erb__1175792554051566741_69943509636940'


  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (21.5ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 04:03:25 +0000
Processing by VisitsController#show as HTML
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT country FROM "visits"
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35m (0.4ms)[0m  SELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mVisit Load (0.4ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/show.html.erb within layouts/application (35.7ms)
Completed 500 Internal Server Error in 39ms

ActionView::Template::Error (undefined local variable or method `visits_by_day_visit_path' for #<#<Class:0x007f39fc160c00>:0x000000050029b8>):
    52: <!-- Line Chart - Single Series -->
    53: <div class="col-xs-12">
    54:   <h3>Visits By Day</h3>
    55:   <%= line_chart visits_by_day_visit_path %>
    56: </div>
  app/views/visits/show.html.erb:55:in `_app_views_visits_show_html_erb__1175792554051566741_41946080'


  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.7ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 04:04:23 +0000
Processing by VisitsController#show as HTML
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.3ms)[0m  [1mSELECT country FROM "visits"[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36m (0.4ms)[0m  [1mSELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mVisit Load (0.5ms)[0m  SELECT "visits".* FROM "visits"
  Rendered visits/show.html.erb within layouts/application (68.0ms)
Completed 500 Internal Server Error in 71ms

ActionView::Template::Error (undefined local variable or method `visits_by_day' for #<#<Class:0x007f39fc160c00>:0x007f3a0c640b48>):
    52: <!-- Line Chart - Single Series -->
    53: <div class="col-xs-12">
    54:   <h3>Visits By Day</h3>
    55:   <%= line_chart visits_by_day %>
    56: </div>
  app/views/visits/show.html.erb:55:in `_app_views_visits_show_html_erb__1175792554051566741_69943646379380'


  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.0ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 04:07:42 +0000
Processing by VisitsController#show as HTML
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT country FROM "visits"
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35m (0.5ms)[0m  SELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  Rendered visits/show.html.erb within layouts/application (21.6ms)
Completed 200 OK in 38ms (Views: 31.3ms | ActiveRecord: 4.7ms)


Started GET "/assets/application.css?body=1" for 67.198.97.43 at 2014-08-27 04:07:43 +0000


Started GET "/assets/visits.css?body=1" for 67.198.97.43 at 2014-08-27 04:07:43 +0000


Started GET "/assets/jquery_ujs.js?body=1" for 67.198.97.43 at 2014-08-27 04:07:43 +0000


Started GET "/assets/jquery.js?body=1" for 67.198.97.43 at 2014-08-27 04:07:43 +0000


Started GET "/assets/turbolinks.js?body=1" for 67.198.97.43 at 2014-08-27 04:07:43 +0000


Started GET "/assets/visits.js?body=1" for 67.198.97.43 at 2014-08-27 04:07:43 +0000


Started GET "/assets/application.js?body=1" for 67.198.97.43 at 2014-08-27 04:07:43 +0000


Started GET "/assets/chartkick.js?body=1" for 67.198.97.43 at 2014-08-27 04:07:43 +0000


Started GET "/visit/visits_by_day" for 67.198.97.43 at 2014-08-27 04:07:43 +0000
Processing by VisitsController#visits_by_day as JSON
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.8ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 04:07:52 +0000
Processing by VisitsController#show as HTML
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.3ms)[0m  [1mSELECT country FROM "visits"[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36m (0.5ms)[0m  [1mSELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  Rendered visits/show.html.erb within layouts/application (19.1ms)
Completed 200 OK in 34ms (Views: 30.3ms | ActiveRecord: 3.2ms)


Started GET "/assets/application.css?body=1" for 67.198.97.43 at 2014-08-27 04:07:53 +0000


Started GET "/assets/application.js?body=1" for 67.198.97.43 at 2014-08-27 04:07:53 +0000


Started GET "/assets/visits.js?body=1" for 67.198.97.43 at 2014-08-27 04:07:53 +0000


Started GET "/assets/visits.css?body=1" for 67.198.97.43 at 2014-08-27 04:07:53 +0000


Started GET "/assets/jquery_ujs.js?body=1" for 67.198.97.43 at 2014-08-27 04:07:53 +0000


Started GET "/assets/jquery.js?body=1" for 67.198.97.43 at 2014-08-27 04:07:53 +0000


Started GET "/assets/turbolinks.js?body=1" for 67.198.97.43 at 2014-08-27 04:07:53 +0000


Started GET "/assets/chartkick.js?body=1" for 67.198.97.43 at 2014-08-27 04:07:53 +0000


Started GET "/visit/visits_by_day" for 67.198.97.43 at 2014-08-27 04:07:53 +0000
Processing by VisitsController#visits_by_day as JSON
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.8ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 04:21:24 +0000

SyntaxError (/home/action/workspace/chartkick-demo/app/controllers/visits_controller.rb:12: syntax error, unexpected end-of-input, expecting keyword_end):
  activesupport (4.0.0) lib/active_support/dependencies.rb:423:in `load'
  activesupport (4.0.0) lib/active_support/dependencies.rb:423:in `block in load_file'
  activesupport (4.0.0) lib/active_support/dependencies.rb:615:in `new_constants_in'
  activesupport (4.0.0) lib/active_support/dependencies.rb:422:in `load_file'
  activesupport (4.0.0) lib/active_support/dependencies.rb:323:in `require_or_load'
  activesupport (4.0.0) lib/active_support/dependencies.rb:462:in `load_missing_constant'
  activesupport (4.0.0) lib/active_support/dependencies.rb:183:in `const_missing'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:226:in `const_get'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:226:in `block in constantize'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:224:in `each'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:224:in `inject'
  activesupport (4.0.0) lib/active_support/inflector/methods.rb:224:in `constantize'
  activesupport (4.0.0) lib/active_support/dependencies.rb:534:in `get'
  activesupport (4.0.0) lib/active_support/dependencies.rb:565:in `constantize'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:76:in `controller_reference'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:66:in `controller'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:44:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__2196166733680630374__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/action/.rvm/rubies/ruby-2.0.0-p247/lib/ruby/2.0.0/webrick/httpserver.rb:138:in `service'
  /home/action/.rvm/rubies/ruby-2.0.0-p247/lib/ruby/2.0.0/webrick/httpserver.rb:94:in `run'
  /home/action/.rvm/rubies/ruby-2.0.0-p247/lib/ruby/2.0.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.7ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (37.8ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.6ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (62.4ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 04:21:45 +0000
Processing by VisitsController#show as HTML
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT country FROM "visits"
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35m (0.5ms)[0m  SELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  Rendered visits/show.html.erb within layouts/application (23.8ms)
Completed 200 OK in 41ms (Views: 33.4ms | ActiveRecord: 5.2ms)


Started GET "/assets/visits.js?body=1" for 67.198.97.43 at 2014-08-27 04:21:45 +0000


Started GET "/assets/application.css?body=1" for 67.198.97.43 at 2014-08-27 04:21:45 +0000


Started GET "/assets/turbolinks.js?body=1" for 67.198.97.43 at 2014-08-27 04:21:45 +0000


Started GET "/assets/visits.css?body=1" for 67.198.97.43 at 2014-08-27 04:21:45 +0000


Started GET "/assets/jquery.js?body=1" for 67.198.97.43 at 2014-08-27 04:21:45 +0000


Started GET "/assets/jquery_ujs.js?body=1" for 67.198.97.43 at 2014-08-27 04:21:45 +0000


Started GET "/assets/application.js?body=1" for 67.198.97.43 at 2014-08-27 04:21:46 +0000


Started GET "/assets/chartkick.js?body=1" for 67.198.97.43 at 2014-08-27 04:21:46 +0000


Started GET "/visit/visits_by_country_by_day" for 67.198.97.43 at 2014-08-27 04:21:46 +0000
Processing by VisitsController#visits_by_country_by_day as JSON
  [1m[36m (0.5ms)[0m  [1mSELECT country FROM "visits"[0m
Completed 500 Internal Server Error in 2ms

NoMethodError (undefined method `where' for nil:NilClass):
  app/controllers/visits_controller.rb:11:in `block in visits_by_country_by_day'
  app/controllers/visits_controller.rb:11:in `map'
  app/controllers/visits_controller.rb:11:in `visits_by_country_by_day'


  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.2ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (23.1ms)


Started GET "/visit/visits_by_day" for 67.198.97.43 at 2014-08-27 04:21:46 +0000
Processing by VisitsController#visits_by_day as JSON
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.7ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 04:33:52 +0000
Processing by VisitsController#show as HTML
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT country FROM "visits"
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35m (0.4ms)[0m  SELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  Rendered visits/show.html.erb within layouts/application (21.6ms)
Completed 200 OK in 39ms (Views: 31.3ms | ActiveRecord: 4.8ms)


Started GET "/assets/application.css?body=1" for 67.198.97.43 at 2014-08-27 04:33:53 +0000


Started GET "/assets/turbolinks.js?body=1" for 67.198.97.43 at 2014-08-27 04:33:53 +0000


Started GET "/assets/visits.js?body=1" for 67.198.97.43 at 2014-08-27 04:33:53 +0000


Started GET "/assets/jquery.js?body=1" for 67.198.97.43 at 2014-08-27 04:33:53 +0000


Started GET "/assets/visits.css?body=1" for 67.198.97.43 at 2014-08-27 04:33:53 +0000


Started GET "/assets/jquery_ujs.js?body=1" for 67.198.97.43 at 2014-08-27 04:33:53 +0000


Started GET "/assets/chartkick.js?body=1" for 67.198.97.43 at 2014-08-27 04:33:53 +0000


Started GET "/assets/application.js?body=1" for 67.198.97.43 at 2014-08-27 04:33:53 +0000


Started GET "/visit/visits_by_day" for 67.198.97.43 at 2014-08-27 04:33:53 +0000
Processing by VisitsController#visits_by_day as JSON
  [1m[36m (1.2ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.2ms)


Started GET "/visit/visits_by_country_by_day" for 67.198.97.43 at 2014-08-27 04:33:53 +0000
Processing by VisitsController#visits_by_country_by_day as JSON
  [1m[35m (0.5ms)[0m  SELECT country FROM "visits"
Completed 500 Internal Server Error in 2ms

NoMethodError (undefined method `where' for nil:NilClass):
  app/controllers/visits_controller.rb:11:in `block in visits_by_country_by_day'
  app/controllers/visits_controller.rb:11:in `map'
  app/controllers/visits_controller.rb:11:in `visits_by_country_by_day'


  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.7ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (22.3ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 04:34:41 +0000
Processing by VisitsController#show as HTML
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT country FROM "visits"
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35m (0.5ms)[0m  SELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  Rendered visits/show.html.erb within layouts/application (22.6ms)
Completed 200 OK in 41ms (Views: 33.8ms | ActiveRecord: 4.8ms)


Started GET "/assets/application.css?body=1" for 67.198.97.43 at 2014-08-27 04:34:42 +0000


Started GET "/assets/visits.js?body=1" for 67.198.97.43 at 2014-08-27 04:34:42 +0000


Started GET "/assets/jquery.js?body=1" for 67.198.97.43 at 2014-08-27 04:34:42 +0000


Started GET "/assets/visits.css?body=1" for 67.198.97.43 at 2014-08-27 04:34:42 +0000


Started GET "/assets/turbolinks.js?body=1" for 67.198.97.43 at 2014-08-27 04:34:42 +0000


Started GET "/assets/jquery_ujs.js?body=1" for 67.198.97.43 at 2014-08-27 04:34:42 +0000


Started GET "/assets/application.js?body=1" for 67.198.97.43 at 2014-08-27 04:34:42 +0000


Started GET "/assets/chartkick.js?body=1" for 67.198.97.43 at 2014-08-27 04:34:42 +0000


Started GET "/visit/visits_by_day" for 67.198.97.43 at 2014-08-27 04:34:42 +0000
Processing by VisitsController#visits_by_day as JSON
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.8ms)


Started GET "/visit/visits_by_country_by_day" for 67.198.97.43 at 2014-08-27 04:34:42 +0000
Processing by VisitsController#visits_by_country_by_day as JSON
  [1m[35m (0.3ms)[0m  SELECT country FROM "visits"
Completed 500 Internal Server Error in 1ms

NoMethodError (undefined method `where' for nil:NilClass):
  app/controllers/visits_controller.rb:11:in `block in visits_by_country_by_day'
  app/controllers/visits_controller.rb:11:in `map'
  app/controllers/visits_controller.rb:11:in `visits_by_country_by_day'


  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.7ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (22.8ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 04:35:00 +0000
Processing by VisitsController#show as HTML
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT country FROM "visits"
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35m (0.4ms)[0m  SELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  Rendered visits/show.html.erb within layouts/application (21.0ms)
Completed 200 OK in 38ms (Views: 33.8ms | ActiveRecord: 3.2ms)


Started GET "/assets/application.css?body=1" for 67.198.97.43 at 2014-08-27 04:35:00 +0000


Started GET "/assets/application.js?body=1" for 67.198.97.43 at 2014-08-27 04:35:01 +0000


Started GET "/assets/jquery.js?body=1" for 67.198.97.43 at 2014-08-27 04:35:01 +0000


Started GET "/assets/visits.css?body=1" for 67.198.97.43 at 2014-08-27 04:35:01 +0000


Started GET "/assets/turbolinks.js?body=1" for 67.198.97.43 at 2014-08-27 04:35:01 +0000


Started GET "/assets/jquery_ujs.js?body=1" for 67.198.97.43 at 2014-08-27 04:35:01 +0000


Started GET "/assets/visits.js?body=1" for 67.198.97.43 at 2014-08-27 04:35:01 +0000


Started GET "/assets/chartkick.js?body=1" for 67.198.97.43 at 2014-08-27 04:35:01 +0000


Started GET "/visit/visits_by_country_by_day" for 67.198.97.43 at 2014-08-27 04:35:01 +0000
Processing by VisitsController#visits_by_country_by_day as JSON
  [1m[36m (0.5ms)[0m  [1mSELECT country FROM "visits"[0m
Completed 500 Internal Server Error in 2ms

NoMethodError (undefined method `where' for nil:NilClass):
  app/controllers/visits_controller.rb:11:in `block in visits_by_country_by_day'
  app/controllers/visits_controller.rb:11:in `map'
  app/controllers/visits_controller.rb:11:in `visits_by_country_by_day'


  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (22.9ms)


Started GET "/visit/visits_by_day" for 67.198.97.43 at 2014-08-27 04:35:01 +0000
Processing by VisitsController#visits_by_day as JSON
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.8ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 04:40:56 +0000
Processing by VisitsController#show as HTML
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT country FROM "visits"
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35m (0.5ms)[0m  SELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mVisit Load (0.5ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/show.html.erb within layouts/application (58.7ms)
Completed 500 Internal Server Error in 64ms

ActionView::Template::Error (undefined local variable or method `visits_by_day_visit_path' for #<#<Class:0x000000048b05c0>:0x000000048ca088>):
    52: <!-- Line Chart - Single Series 
    53: <div class="col-xs-12">
    54:   <h3>Visits By Day</h3>
    55:   <%= line_chart visits_by_day_visit_path %>
    56: </div>-->
    57: 
    58: <div class="col-xs-6">
  app/views/visits/show.html.erb:55:in `_app_views_visits_show_html_erb__1175792554051566741_38998020'


  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.7ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 05:33:03 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by VisitsController#show as HTML
  [1m[35m (1.7ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.3ms)[0m  [1mSELECT country FROM "visits"[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36m (0.5ms)[0m  [1mSELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  Rendered visits/show.html.erb within layouts/application (32.8ms)
Completed 200 OK in 134ms (Views: 103.5ms | ActiveRecord: 7.0ms)


Started GET "/assets/application.css?body=1" for 67.198.97.43 at 2014-08-27 05:33:03 +0000


Started GET "/assets/jquery.js?body=1" for 67.198.97.43 at 2014-08-27 05:33:03 +0000


Started GET "/assets/jquery_ujs.js?body=1" for 67.198.97.43 at 2014-08-27 05:33:03 +0000


Started GET "/assets/turbolinks.js?body=1" for 67.198.97.43 at 2014-08-27 05:33:03 +0000


Started GET "/assets/visits.css?body=1" for 67.198.97.43 at 2014-08-27 05:33:03 +0000


Started GET "/assets/visits.js?body=1" for 67.198.97.43 at 2014-08-27 05:33:03 +0000


Started GET "/assets/chartkick.js?body=1" for 67.198.97.43 at 2014-08-27 05:33:03 +0000


Started GET "/assets/application.js?body=1" for 67.198.97.43 at 2014-08-27 05:33:03 +0000


Started GET "/visit/visits_by_country_by_day" for 67.198.97.43 at 2014-08-27 05:33:03 +0000
Processing by VisitsController#visits_by_country_by_day as JSON
  [1m[35m (0.6ms)[0m  SELECT country FROM "visits"
Completed 500 Internal Server Error in 2ms

NoMethodError (undefined method `where' for nil:NilClass):
  app/controllers/visits_controller.rb:11:in `block in visits_by_country_by_day'
  app/controllers/visits_controller.rb:11:in `map'
  app/controllers/visits_controller.rb:11:in `visits_by_country_by_day'


  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.3ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (23.3ms)
  [1m[36m (1.9ms)[0m  [1mSELECT country FROM "visits"[0m
  [1m[35m (0.6ms)[0m  SELECT country FROM "visits"


Started GET "/" for 67.198.97.43 at 2014-08-27 05:44:42 +0000
Processing by VisitsController#show as HTML
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT country FROM "visits"
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35m (0.5ms)[0m  SELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mVisit Load (0.5ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/show.html.erb within layouts/application (59.1ms)
Completed 500 Internal Server Error in 64ms

ActionView::Template::Error (undefined local variable or method `visits_by_day_visit_path' for #<#<Class:0x007f37ac3e7a20>:0x007f37ac3e6990>):
    52: <!-- Line Chart - Single Series -->
    53: <div class="col-xs-12">
    54:   <h3>Visits By Day</h3>
    55:   <%= line_chart visits_by_day_visit_path %>
    56: </div>
    57: 
    58: <div class="col-xs-6">
  app/views/visits/show.html.erb:55:in `_app_views_visits_show_html_erb__3216552609116294024_69938544847420'


  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (32.5ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (48.0ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 05:44:56 +0000
Processing by VisitsController#show as HTML
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.3ms)[0m  [1mSELECT country FROM "visits"[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36m (0.5ms)[0m  [1mSELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mVisit Load (0.4ms)[0m  SELECT "visits".* FROM "visits"
  Rendered visits/show.html.erb within layouts/application (33.3ms)
Completed 500 Internal Server Error in 36ms

ActionView::Template::Error (undefined local variable or method `visits_by_day_visit_path' for #<#<Class:0x007f37ac3e7a20>:0x00000002e93930>):
    52: <!-- Line Chart - Single Series -->
    53: <div class="col-xs-12">
    54:   <h3>Visits By Day</h3>
    55:   <%= line_chart visits_by_day_visit_path %>
    56: </div>
  app/views/visits/show.html.erb:55:in `_app_views_visits_show_html_erb__3216552609116294024_24427360'


  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.1ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 05:44:59 +0000
Processing by VisitsController#show as HTML
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT country FROM "visits"
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35m (0.4ms)[0m  SELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mVisit Load (0.4ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/show.html.erb within layouts/application (31.1ms)
Completed 500 Internal Server Error in 34ms

ActionView::Template::Error (undefined local variable or method `visits_by_day_visit_path' for #<#<Class:0x007f37ac3e7a20>:0x007f37ac477440>):
    52: <!-- Line Chart - Single Series -->
    53: <div class="col-xs-12">
    54:   <h3>Visits By Day</h3>
    55:   <%= line_chart visits_by_day_visit_path %>
    56: </div>
  app/views/visits/show.html.erb:55:in `_app_views_visits_show_html_erb__3216552609116294024_24427360'


  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.5ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 05:45:21 +0000
Processing by VisitsController#show as HTML
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.2ms)[0m  [1mSELECT country FROM "visits"[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36m (0.5ms)[0m  [1mSELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  Rendered visits/show.html.erb within layouts/application (21.1ms)
Completed 200 OK in 72ms (Views: 31.2ms | ActiveRecord: 4.8ms)


Started GET "/assets/application.css?body=1" for 67.198.97.43 at 2014-08-27 05:45:22 +0000


Started GET "/assets/visits.css?body=1" for 67.198.97.43 at 2014-08-27 05:45:22 +0000


Started GET "/assets/jquery.js?body=1" for 67.198.97.43 at 2014-08-27 05:45:22 +0000


Started GET "/assets/jquery_ujs.js?body=1" for 67.198.97.43 at 2014-08-27 05:45:22 +0000


Started GET "/assets/turbolinks.js?body=1" for 67.198.97.43 at 2014-08-27 05:45:22 +0000


Started GET "/assets/visits.js?body=1" for 67.198.97.43 at 2014-08-27 05:45:22 +0000


Started GET "/assets/application.js?body=1" for 67.198.97.43 at 2014-08-27 05:45:22 +0000


Started GET "/assets/chartkick.js?body=1" for 67.198.97.43 at 2014-08-27 05:45:22 +0000


Started GET "/visit/visits_by_day" for 67.198.97.43 at 2014-08-27 05:45:22 +0000
Processing by VisitsController#visits_by_day as JSON
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.8ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 05:46:04 +0000
Processing by VisitsController#show as HTML
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT country FROM "visits"
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35m (0.5ms)[0m  SELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  Rendered visits/show.html.erb within layouts/application (23.7ms)
Completed 200 OK in 43ms (Views: 34.8ms | ActiveRecord: 5.0ms)


Started GET "/assets/application.css?body=1" for 67.198.97.43 at 2014-08-27 05:46:05 +0000


Started GET "/assets/turbolinks.js?body=1" for 67.198.97.43 at 2014-08-27 05:46:05 +0000


Started GET "/assets/visits.css?body=1" for 67.198.97.43 at 2014-08-27 05:46:05 +0000


Started GET "/assets/visits.js?body=1" for 67.198.97.43 at 2014-08-27 05:46:05 +0000


Started GET "/assets/jquery_ujs.js?body=1" for 67.198.97.43 at 2014-08-27 05:46:05 +0000


Started GET "/assets/jquery.js?body=1" for 67.198.97.43 at 2014-08-27 05:46:05 +0000


Started GET "/assets/application.js?body=1" for 67.198.97.43 at 2014-08-27 05:46:05 +0000


Started GET "/assets/chartkick.js?body=1" for 67.198.97.43 at 2014-08-27 05:46:05 +0000


Started GET "/visit/visits_by_country_day" for 67.198.97.43 at 2014-08-27 05:46:05 +0000
Processing by VisitsController#visits_by_country_day as JSON
  [1m[36m (0.5ms)[0m  [1mSELECT country FROM "visits"[0m
Completed 500 Internal Server Error in 2ms

NoMethodError (undefined method `where' for nil:NilClass):
  app/controllers/visits_controller.rb:11:in `block in visits_by_country_day'
  app/controllers/visits_controller.rb:11:in `map'
  app/controllers/visits_controller.rb:11:in `visits_by_country_day'


  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (25.2ms)


Started GET "/visit/visits_by_day" for 67.198.97.43 at 2014-08-27 05:46:05 +0000
Processing by VisitsController#visits_by_day as JSON
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.8ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 05:48:19 +0000
Processing by VisitsController#show as HTML
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT country FROM "visits"
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35m (0.4ms)[0m  SELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  Rendered visits/show.html.erb within layouts/application (23.0ms)
Completed 200 OK in 77ms (Views: 69.7ms | ActiveRecord: 4.8ms)


Started GET "/assets/jquery.js?body=1" for 67.198.97.43 at 2014-08-27 05:48:19 +0000


Started GET "/assets/jquery_ujs.js?body=1" for 67.198.97.43 at 2014-08-27 05:48:19 +0000


Started GET "/assets/visits.css?body=1" for 67.198.97.43 at 2014-08-27 05:48:19 +0000


Started GET "/assets/application.css?body=1" for 67.198.97.43 at 2014-08-27 05:48:19 +0000


Started GET "/assets/turbolinks.js?body=1" for 67.198.97.43 at 2014-08-27 05:48:19 +0000


Started GET "/assets/visits.js?body=1" for 67.198.97.43 at 2014-08-27 05:48:19 +0000


Started GET "/assets/application.js?body=1" for 67.198.97.43 at 2014-08-27 05:48:19 +0000


Started GET "/assets/chartkick.js?body=1" for 67.198.97.43 at 2014-08-27 05:48:19 +0000


Started GET "/visit/visits_by_day" for 67.198.97.43 at 2014-08-27 05:48:19 +0000
Processing by VisitsController#visits_by_day as JSON
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.8ms)


Started GET "/visit/visits_by_country_day" for 67.198.97.43 at 2014-08-27 05:48:19 +0000
Processing by VisitsController#visits_by_country_day as JSON
  [1m[35m (0.3ms)[0m  SELECT country FROM "visits"
Completed 500 Internal Server Error in 1ms

NoMethodError (undefined method `where' for nil:NilClass):
  app/controllers/visits_controller.rb:11:in `block in visits_by_country_day'
  app/controllers/visits_controller.rb:11:in `map'
  app/controllers/visits_controller.rb:11:in `visits_by_country_day'


  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (22.8ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 05:48:48 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by VisitsController#show as HTML
  [1m[35m (1.7ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.3ms)[0m  [1mSELECT country FROM "visits"[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36m (0.5ms)[0m  [1mSELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  Rendered visits/show.html.erb within layouts/application (31.4ms)
Completed 200 OK in 135ms (Views: 103.7ms | ActiveRecord: 7.0ms)


Started GET "/assets/turbolinks.js?body=1" for 67.198.97.43 at 2014-08-27 05:48:48 +0000


Started GET "/assets/jquery.js?body=1" for 67.198.97.43 at 2014-08-27 05:48:48 +0000


Started GET "/assets/visits.css?body=1" for 67.198.97.43 at 2014-08-27 05:48:48 +0000


Started GET "/assets/application.css?body=1" for 67.198.97.43 at 2014-08-27 05:48:48 +0000


Started GET "/assets/jquery_ujs.js?body=1" for 67.198.97.43 at 2014-08-27 05:48:48 +0000


Started GET "/assets/visits.js?body=1" for 67.198.97.43 at 2014-08-27 05:48:48 +0000


Started GET "/assets/application.js?body=1" for 67.198.97.43 at 2014-08-27 05:48:48 +0000


Started GET "/assets/chartkick.js?body=1" for 67.198.97.43 at 2014-08-27 05:48:48 +0000


Started GET "/visit/visits_by_country_day" for 67.198.97.43 at 2014-08-27 05:48:49 +0000
Processing by VisitsController#visits_by_country_day as JSON
  [1m[35m (0.5ms)[0m  SELECT country FROM "visits"
Completed 500 Internal Server Error in 2ms

NoMethodError (undefined method `where' for nil:NilClass):
  app/controllers/visits_controller.rb:11:in `block in visits_by_country_day'
  app/controllers/visits_controller.rb:11:in `map'
  app/controllers/visits_controller.rb:11:in `visits_by_country_day'


  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.2ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (23.2ms)


Started GET "/visit/visits_by_day" for 67.198.97.43 at 2014-08-27 05:48:49 +0000
Processing by VisitsController#visits_by_day as JSON
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.8ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 15:16:20 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by VisitsController#show as HTML
ERROR: compiling _app_views_visits_show_html_erb___2605426818798035450_13324300 RAISED /home/action/workspace/chartkick-demo/app/views/visits/show.html.erb:62: syntax error, unexpected keyword_ensure, expecting ')'
/home/action/workspace/chartkick-demo/app/views/visits/show.html.erb:64: syntax error, unexpected keyword_end, expecting ')'
Function body:           def _app_views_visits_show_html_erb___2605426818798035450_13324300(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "visits/show";_old_output_buffer = @output_buffer;;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_append='<div class="row">
  <!-- Line Chart - Single Series -->
  <div class="col-xs-6">
    <h3>Visits By Day</h3>
    ';@output_buffer.append=( line_chart @visits.group_by_day(:visited_at, format: "%B %d, %Y").count, discrete: true );@output_buffer.safe_append='
  </div>

  <!-- Line Chart - Multiple Series -->
  <div class="col-xs-6">
    <h3>Visits By Country Per Day</h3>
    ';@output_buffer.append=( line_chart   Visit.pluck("country").uniq.map { |c| { name: c, data: @visits.where(country: c).group_by_day(:visited_at, format: "%B %d, %Y").count }  }, discrete: true );@output_buffer.safe_append='
  </div>
  
</div>

<div class="row">
  <!-- Pie Chart -->
  <div class="col-xs-6">
    <h3>Total Visits by Country</h3>
    ';@output_buffer.append=( pie_chart @visits.group(:country).count );@output_buffer.safe_append='
  </div>

  <!-- Geo Chart --> 
  <div class="col-xs-6">
    <h3>Visits By Day</h3>
    ';@output_buffer.append=( geo_chart @visits.group(:country).count );@output_buffer.safe_append='
  </div>

</div>

<div class="row">
  <!-- area chart --> 
  <div class="col-xs-12">
    <h3>Total Load Time By Day</h3>
    ';@output_buffer.append=( area_chart @visits.group_by_day(:visited_at).maximum(:load_time) );@output_buffer.safe_append='
  </div>
</div>

<div class="row">
  <!-- Column Chart --> 
  <div class="col-xs-6">
    <h3>Total Visits Per Country</h3>
    ';@output_buffer.append=( column_chart @visits.group(:country).count );@output_buffer.safe_append='
  </div>
  <!-- Bar Chart --> 
  <div class="col-xs-6">
    <h3>Total Visits Per Country</h3>
    ';@output_buffer.append=( bar_chart @visits.group(:country).count );@output_buffer.safe_append='
  </div>
</div>

<!-- Line Chart - Single Series -->
<div class="col-xs-12">
  <h3>Visits By Day</h3>
  ';@output_buffer.append=( line_chart visits_by_day_visit_path );@output_buffer.safe_append='
</div>

<div class="col-xs-6">
   <h3>Visits By Country Per Day</h3>
   ';@output_buffer.append=( line_chart <%= line_chart @visits.map { |visit| { name: visit.country, data: visit.group_by_week(:visited_at, format: "%B %d, %Y").count } }, discrete: true );@output_buffer.safe_append='
</div>';@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end

Backtrace: /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_view/template.rb:299:in `module_eval'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_view/template.rb:299:in `compile'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_view/template.rb:248:in `block in compile!'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_view/template.rb:236:in `synchronize'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_view/template.rb:236:in `compile!'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_view/template.rb:142:in `block in render'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/activesupport-4.0.0/lib/active_support/notifications.rb:161:in `instrument'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_view/template.rb:141:in `render'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:49:in `block (2 levels) in render_template'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/activesupport-4.0.0/lib/active_support/notifications.rb:159:in `block in instrument'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/activesupport-4.0.0/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/activesupport-4.0.0/lib/active_support/notifications.rb:159:in `instrument'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:48:in `block in render_template'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:56:in `render_with_layout'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:47:in `render_template'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_view/renderer/template_renderer.rb:17:in `render'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_view/renderer/renderer.rb:42:in `render_template'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_view/renderer/renderer.rb:23:in `render'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:127:in `_render_template'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_controller/metal/streaming.rb:219:in `_render_template'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:120:in `render_to_body'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:33:in `render_to_body'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_controller/metal/renderers.rb:26:in `render_to_body'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:97:in `render'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:16:in `render'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/activesupport-4.0.0/lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
/home/action/.rvm/rubies/ruby-2.0.0-p247/lib/ruby/2.0.0/benchmark.rb:296:in `realtime'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/activesupport-4.0.0/lib/active_support/core_ext/benchmark.rb:12:in `ms'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:41:in `block in render'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/activerecord-4.0.0/lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:40:in `render'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/abstract_controller/base.rb:189:in `process_action'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_controller/metal/rendering.rb:10:in `process_action'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:403:in `_run__3472831307858759223__process_action__callbacks'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:80:in `run_callbacks'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_controller/metal/rescue.rb:29:in `process_action'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/activesupport-4.0.0/lib/active_support/notifications.rb:159:in `block in instrument'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/activesupport-4.0.0/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/activesupport-4.0.0/lib/active_support/notifications.rb:159:in `instrument'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/activerecord-4.0.0/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/abstract_controller/base.rb:136:in `process'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/abstract_controller/rendering.rb:44:in `process'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_controller/metal.rb:195:in `dispatch'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_controller/metal.rb:231:in `block in action'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:80:in `call'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:48:in `call'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:71:in `block in call'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:59:in `each'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/journey/router.rb:59:in `call'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/routing/route_set.rb:655:in `call'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/rack-1.5.2/lib/rack/etag.rb:23:in `call'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/rack-1.5.2/lib/rack/conditionalget.rb:25:in `call'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/rack-1.5.2/lib/rack/head.rb:11:in `call'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/params_parser.rb:27:in `call'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/flash.rb:241:in `call'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:225:in `context'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:220:in `call'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/cookies.rb:486:in `call'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/activerecord-4.0.0/lib/active_record/query_cache.rb:36:in `call'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/activerecord-4.0.0/lib/active_record/migration.rb:369:in `call'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:373:in `_run__4533800540083591707__call__callbacks'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:80:in `run_callbacks'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/callbacks.rb:27:in `call'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/reloader.rb:64:in `call'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/railties-4.0.0/lib/rails/rack/logger.rb:38:in `call_app'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/railties-4.0.0/lib/rails/rack/logger.rb:21:in `block in call'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:67:in `block in tagged'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:25:in `tagged'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/activesupport-4.0.0/lib/active_support/tagged_logging.rb:67:in `tagged'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/railties-4.0.0/lib/rails/rack/logger.rb:21:in `call'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/request_id.rb:21:in `call'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/rack-1.5.2/lib/rack/methodoverride.rb:21:in `call'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/rack-1.5.2/lib/rack/runtime.rb:17:in `call'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/activesupport-4.0.0/lib/active_support/cache/strategy/local_cache.rb:83:in `call'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/rack-1.5.2/lib/rack/lock.rb:17:in `call'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/static.rb:64:in `call'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/railties-4.0.0/lib/rails/engine.rb:511:in `call'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/railties-4.0.0/lib/rails/application.rb:97:in `call'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/rack-1.5.2/lib/rack/lock.rb:17:in `call'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/rack-1.5.2/lib/rack/content_length.rb:14:in `call'
/home/action/.rvm/gems/ruby-2.0.0-p247/gems/rack-1.5.2/lib/rack/handler/webrick.rb:60:in `service'
/home/action/.rvm/rubies/ruby-2.0.0-p247/lib/ruby/2.0.0/webrick/httpserver.rb:138:in `service'
/home/action/.rvm/rubies/ruby-2.0.0-p247/lib/ruby/2.0.0/webrick/httpserver.rb:94:in `run'
/home/action/.rvm/rubies/ruby-2.0.0-p247/lib/ruby/2.0.0/webrick/server.rb:295:in `block in start_thread'
  Rendered visits/show.html.erb within layouts/application (4.4ms)
Completed 500 Internal Server Error in 67ms

ActionView::Template::Error (/home/action/workspace/chartkick-demo/app/views/visits/show.html.erb:62: syntax error, unexpected keyword_ensure, expecting ')'
/home/action/workspace/chartkick-demo/app/views/visits/show.html.erb:64: syntax error, unexpected keyword_end, expecting ')'):
    59:    <h3>Visits By Country Per Day</h3>
    60:    <%= line_chart <%= line_chart @visits.map { |visit| { name: visit.country, data: visit.group_by_week(:visited_at, format: "%B %d, %Y").count } }, discrete: true %>
    61: </div>
  actionpack (4.0.0) lib/action_view/template.rb:299:in `module_eval'
  actionpack (4.0.0) lib/action_view/template.rb:299:in `compile'
  actionpack (4.0.0) lib/action_view/template.rb:248:in `block in compile!'
  actionpack (4.0.0) lib/action_view/template.rb:236:in `synchronize'
  actionpack (4.0.0) lib/action_view/template.rb:236:in `compile!'
  actionpack (4.0.0) lib/action_view/template.rb:142:in `block in render'
  activesupport (4.0.0) lib/active_support/notifications.rb:161:in `instrument'
  actionpack (4.0.0) lib/action_view/template.rb:141:in `render'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:49:in `block (2 levels) in render_template'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:48:in `block in render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:56:in `render_with_layout'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:47:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionpack (4.0.0) lib/action_view/renderer/renderer.rb:23:in `render'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:127:in `_render_template'
  actionpack (4.0.0) lib/action_controller/metal/streaming.rb:219:in `_render_template'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:120:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:33:in `render_to_body'
  actionpack (4.0.0) lib/action_controller/metal/renderers.rb:26:in `render_to_body'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:97:in `render'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/action/.rvm/rubies/ruby-2.0.0-p247/lib/ruby/2.0.0/benchmark.rb:296:in `realtime'
  activesupport (4.0.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:40:in `render'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.0) lib/active_support/callbacks.rb:403:in `_run__3472831307858759223__process_action__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
  activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.0) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:80:in `dispatch'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:48:in `call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `each'
  actionpack (4.0.0) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.0) lib/action_dispatch/routing/route_set.rb:655:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.0) lib/active_record/migration.rb:369:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.0) lib/active_support/callbacks.rb:373:in `_run__4533800540083591707__call__callbacks'
  activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0) lib/rails/rack/logger.rb:21:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0) lib/active_support/cache/strategy/local_cache.rb:83:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.0) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0) lib/rails/engine.rb:511:in `call'
  railties (4.0.0) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/action/.rvm/rubies/ruby-2.0.0-p247/lib/ruby/2.0.0/webrick/httpserver.rb:138:in `service'
  /home/action/.rvm/rubies/ruby-2.0.0-p247/lib/ruby/2.0.0/webrick/httpserver.rb:94:in `run'
  /home/action/.rvm/rubies/ruby-2.0.0-p247/lib/ruby/2.0.0/webrick/server.rb:295:in `block in start_thread'


  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (17.6ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 15:16:49 +0000
Processing by VisitsController#show as HTML
  [1m[35m (1.7ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.3ms)[0m  [1mSELECT country FROM "visits"[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36m (0.6ms)[0m  [1mSELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mVisit Load (0.4ms)[0m  SELECT "visits".* FROM "visits"
  Rendered visits/show.html.erb within layouts/application (53.0ms)
Completed 500 Internal Server Error in 56ms

ActionView::Template::Error (undefined method `group_by_week' for #<Visit:0x007fb2683a2308>):
    57: 
    58: <div class="col-xs-6">
    59:    <h3>Visits By Country Per Day</h3>
    60:    <%= line_chart @visits.map { |visit| { name: visit.country, data: visit.group_by_week(:visited_at, format: "%B %d, %Y").count } }, discrete: true %>
    61: </div>
  app/views/visits/show.html.erb:60:in `block in _app_views_visits_show_html_erb___2605426818798035450_36136540'
  app/views/visits/show.html.erb:60:in `_app_views_visits_show_html_erb___2605426818798035450_36136540'


  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.2ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.8ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 15:17:12 +0000
Processing by VisitsController#show as HTML
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT country FROM "visits"
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35m (0.5ms)[0m  SELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mVisit Load (0.5ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/show.html.erb within layouts/application (26.4ms)
Completed 500 Internal Server Error in 30ms

ActionView::Template::Error (undefined method `group_by_day' for #<Visit:0x007fb26887a920>):
    57: 
    58: <div class="col-xs-6">
    59:    <h3>Visits By Country Per Day</h3>
    60:    <%= line_chart @visits.map { |visit| { name: visit.country, data: visit.group_by_day(:visited_at, format: "%B %d, %Y").count } }, discrete: true %>
    61: </div>
  app/views/visits/show.html.erb:60:in `block in _app_views_visits_show_html_erb___2605426818798035450_70202116873000'
  app/views/visits/show.html.erb:60:in `_app_views_visits_show_html_erb___2605426818798035450_70202116873000'


  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.2ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.8ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 15:17:31 +0000
Processing by VisitsController#show as HTML
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.3ms)[0m  [1mSELECT country FROM "visits"[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36m (0.6ms)[0m  [1mSELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mVisit Load (0.4ms)[0m  SELECT "visits".* FROM "visits"
  Rendered visits/show.html.erb within layouts/application (25.7ms)
Completed 500 Internal Server Error in 29ms

ActionView::Template::Error (undefined method `feat' for #<Visit:0x007fb268af9a98>):
    57: 
    58: <div class="col-xs-6">
    59:    <h3>Visits By Country Per Day</h3>
    60:    <%= line_chart @visits.map { |visit| { name: visit.country, data: visit.feat.group_by_day(:visited_at, format: "%B %d, %Y").count } }, discrete: true %>
    61: </div>
  app/views/visits/show.html.erb:60:in `block in _app_views_visits_show_html_erb___2605426818798035450_70202118181900'
  app/views/visits/show.html.erb:60:in `_app_views_visits_show_html_erb___2605426818798035450_70202118181900'


  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.0ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 15:18:32 +0000
Processing by VisitsController#show as HTML
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT country FROM "visits"
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35m (0.5ms)[0m  SELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mVisit Load (0.4ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/show.html.erb within layouts/application (24.0ms)
Completed 500 Internal Server Error in 27ms

ActionView::Template::Error (undefined method `group_by_day' for "United States":String):
    57: 
    58: <div class="col-xs-6">
    59:    <h3>Visits By Country Per Day</h3>
    60:    <%= line_chart @visits.map { |visit| { name: visit.country, data: visit.country.group_by_day(:visited_at, format: "%B %d, %Y").count } }, discrete: true %>
    61: </div>
  app/views/visits/show.html.erb:60:in `block in _app_views_visits_show_html_erb___2605426818798035450_27067960'
  app/views/visits/show.html.erb:60:in `_app_views_visits_show_html_erb___2605426818798035450_27067960'


  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.1ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 15:18:52 +0000
Processing by VisitsController#show as HTML
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.3ms)[0m  [1mSELECT country FROM "visits"[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36m (0.5ms)[0m  [1mSELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mVisit Load (0.4ms)[0m  SELECT "visits".* FROM "visits"
  Rendered visits/show.html.erb within layouts/application (23.3ms)
Completed 500 Internal Server Error in 26ms

ActionView::Template::Error (undefined method `group_by_day' for "United States":String):
    57: 
    58: <div class="col-xs-6">
    59:    <h3>Visits By Country Per Day</h3>
    60:    <%= line_chart @visits.map { |visit| { name: visit.country, data: visit.country.group_by_day(:visited_at, format: "%B %d, %Y").count } }, discrete: true %>
    61: </div>
  app/views/visits/show.html.erb:60:in `block in _app_views_visits_show_html_erb___2605426818798035450_27067960'
  app/views/visits/show.html.erb:60:in `_app_views_visits_show_html_erb___2605426818798035450_27067960'


  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.2ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.9ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 15:18:57 +0000
Processing by VisitsController#show as HTML
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT country FROM "visits"
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35m (0.5ms)[0m  SELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mVisit Load (0.4ms)[0m  [1mSELECT "visits".* FROM "visits"[0m
  Rendered visits/show.html.erb within layouts/application (23.7ms)
Completed 500 Internal Server Error in 27ms

ActionView::Template::Error (undefined method `group_by_day' for Wed, 27 Aug 2014 03:29:19 UTC +00:00:Time):
    57: 
    58: <div class="col-xs-6">
    59:    <h3>Visits By Country Per Day</h3>
    60:    <%= line_chart @visits.map { |visit| { name: visit.country, data: visit.visited_at.group_by_day(:visited_at, format: "%B %d, %Y").count } }, discrete: true %>
    61: </div>
  app/views/visits/show.html.erb:60:in `block in _app_views_visits_show_html_erb___2605426818798035450_70202117067280'
  app/views/visits/show.html.erb:60:in `_app_views_visits_show_html_erb___2605426818798035450_70202117067280'


  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.9ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 15:20:23 +0000
Processing by VisitsController#show as HTML
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.3ms)[0m  [1mSELECT country FROM "visits"[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36m (0.5ms)[0m  [1mSELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mVisit Load (0.4ms)[0m  SELECT "visits".* FROM "visits"
  Rendered visits/show.html.erb within layouts/application (22.4ms)
Completed 500 Internal Server Error in 25ms

ActionView::Template::Error (undefined method `group_by_day' for Wed, 27 Aug 2014 03:29:19 UTC +00:00:Time):
    57: 
    58: <div class="col-xs-6">
    59:    <h3>Visits By Country Per Day</h3>
    60:    <%= line_chart @visits.map { |visit| { name: visit.country, data: visit.visited_at.group_by_day(:visited_at, format: "%B %d, %Y").count } }, discrete: true %>
    61: </div>
  app/views/visits/show.html.erb:60:in `block in _app_views_visits_show_html_erb___2605426818798035450_70202117067280'
  app/views/visits/show.html.erb:60:in `_app_views_visits_show_html_erb___2605426818798035450_70202117067280'


  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.2ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (17.3ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 15:22:10 +0000
Processing by VisitsController#show as HTML
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT country FROM "visits"
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35m (0.4ms)[0m  SELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mVisit Load (1.2ms)[0m  [1mSELECT DISTINCT "visits".* FROM "visits"[0m
  Rendered visits/show.html.erb within layouts/application (24.3ms)
Completed 500 Internal Server Error in 63ms

ActionView::Template::Error (undefined method `group_by_day' for Wed, 27 Aug 2014 03:29:19 UTC +00:00:Time):
    57: 
    58: <div class="col-xs-6">
    59:    <h3>Visits By Country Per Day</h3>
    60:    <%= line_chart @visits.uniq.map { |visit| { name: visit.country, data: visit.visited_at.group_by_day(:visited_at, format: "%B %d, %Y").count } }, discrete: true %>
    61: </div>
  app/views/visits/show.html.erb:60:in `block in _app_views_visits_show_html_erb___2605426818798035450_13387560'
  app/views/visits/show.html.erb:60:in `_app_views_visits_show_html_erb___2605426818798035450_13387560'


  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.2ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (26.8ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 15:22:30 +0000
Processing by VisitsController#show as HTML
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.3ms)[0m  [1mSELECT country FROM "visits"[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36m (0.4ms)[0m  [1mSELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT country FROM "visits"
  Rendered visits/show.html.erb within layouts/application (21.5ms)
Completed 500 Internal Server Error in 25ms

ActionView::Template::Error (undefined method `country' for "United States":String):
    57: 
    58: <div class="col-xs-6">
    59:    <h3>Visits By Country Per Day</h3>
    60:    <%= line_chart @visits.pluck("country").uniq.map { |visit| { name: visit.country, data: visit.visited_at.group_by_day(:visited_at, format: "%B %d, %Y").count } }, discrete: true %>
    61: </div>
  app/views/visits/show.html.erb:60:in `block in _app_views_visits_show_html_erb___2605426818798035450_70202113311620'
  app/views/visits/show.html.erb:60:in `map'
  app/views/visits/show.html.erb:60:in `_app_views_visits_show_html_erb___2605426818798035450_70202113311620'


  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.8ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 15:23:02 +0000
Processing by VisitsController#show as HTML
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT country FROM "visits"
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35m (0.4ms)[0m  SELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT country FROM "visits"[0m
  Rendered visits/show.html.erb within layouts/application (19.9ms)
Completed 500 Internal Server Error in 23ms

ActionView::Template::Error (undefined method `country' for "United States":String):
    57: 
    58: <div class="col-xs-6">
    59:    <h3>Visits By Country Per Day</h3>
    60:    <%= line_chart @visits.pluck("country").uniq.map { |visit| { name: visit.country, data: visit.visited_at.group_by_day(:visited_at, format: "%B %d, %Y").count } }, discrete: true %>
    61: </div>
  app/views/visits/show.html.erb:60:in `block in _app_views_visits_show_html_erb___2605426818798035450_70202113311620'
  app/views/visits/show.html.erb:60:in `map'
  app/views/visits/show.html.erb:60:in `_app_views_visits_show_html_erb___2605426818798035450_70202113311620'


  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.0ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 15:23:05 +0000
Processing by VisitsController#show as HTML
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.3ms)[0m  [1mSELECT country FROM "visits"[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36m (0.4ms)[0m  [1mSELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT country FROM "visits"
  Rendered visits/show.html.erb within layouts/application (21.6ms)
Completed 500 Internal Server Error in 25ms

ActionView::Template::Error (undefined method `visited_at' for "United States":String):
    57: 
    58: <div class="col-xs-6">
    59:    <h3>Visits By Country Per Day</h3>
    60:    <%= line_chart @visits.pluck("country").uniq.map { |visit| { name: visit, data: visit.visited_at.group_by_day(:visited_at, format: "%B %d, %Y").count } }, discrete: true %>
    61: </div>
  app/views/visits/show.html.erb:60:in `block in _app_views_visits_show_html_erb___2605426818798035450_70202117761320'
  app/views/visits/show.html.erb:60:in `map'
  app/views/visits/show.html.erb:60:in `_app_views_visits_show_html_erb___2605426818798035450_70202117761320'


  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.0ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 15:23:35 +0000
Processing by VisitsController#show as HTML
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT country FROM "visits"
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35m (0.5ms)[0m  SELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT country FROM "visits"[0m
  Rendered visits/show.html.erb within layouts/application (20.8ms)
Completed 500 Internal Server Error in 24ms

ActionView::Template::Error (undefined method `visited_at' for "United States":String):
    57: 
    58: <div class="col-xs-6">
    59:    <h3>Visits By Country Per Day</h3>
    60:    <%= line_chart @visits.pluck("country").uniq.map { |c| { name: c, data: c.visited_at.group_by_day(:visited_at, format: "%B %d, %Y").count } }, discrete: true %>
    61: </div>
  app/views/visits/show.html.erb:60:in `block in _app_views_visits_show_html_erb___2605426818798035450_70202117951340'
  app/views/visits/show.html.erb:60:in `map'
  app/views/visits/show.html.erb:60:in `_app_views_visits_show_html_erb___2605426818798035450_70202117951340'


  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (52.0ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 15:23:37 +0000
Processing by VisitsController#show as HTML
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.3ms)[0m  [1mSELECT country FROM "visits"[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36m (0.8ms)[0m  [1mSELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT country FROM "visits"
  Rendered visits/show.html.erb within layouts/application (22.1ms)
Completed 500 Internal Server Error in 25ms

ActionView::Template::Error (undefined method `visited_at' for "United States":String):
    57: 
    58: <div class="col-xs-6">
    59:    <h3>Visits By Country Per Day</h3>
    60:    <%= line_chart @visits.pluck("country").uniq.map { |c| { name: c, data: c.visited_at.group_by_day(:visited_at, format: "%B %d, %Y").count } }, discrete: true %>
    61: </div>
  app/views/visits/show.html.erb:60:in `block in _app_views_visits_show_html_erb___2605426818798035450_70202117951340'
  app/views/visits/show.html.erb:60:in `map'
  app/views/visits/show.html.erb:60:in `_app_views_visits_show_html_erb___2605426818798035450_70202117951340'


  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (17.9ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 15:26:28 +0000
Processing by VisitsController#show as HTML
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT country FROM "visits"
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35m (0.4ms)[0m  SELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT country FROM "visits"[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  Rendered visits/show.html.erb within layouts/application (27.8ms)
Completed 200 OK in 106ms (Views: 101.9ms | ActiveRecord: 3.3ms)


Started GET "/assets/application.css?body=1" for 67.198.97.43 at 2014-08-27 15:26:29 +0000


Started GET "/assets/visits.css?body=1" for 67.198.97.43 at 2014-08-27 15:26:29 +0000


Started GET "/assets/jquery.js?body=1" for 67.198.97.43 at 2014-08-27 15:26:29 +0000


Started GET "/assets/jquery_ujs.js?body=1" for 67.198.97.43 at 2014-08-27 15:26:29 +0000


Started GET "/assets/visits.js?body=1" for 67.198.97.43 at 2014-08-27 15:26:29 +0000


Started GET "/assets/application.js?body=1" for 67.198.97.43 at 2014-08-27 15:26:29 +0000


Started GET "/assets/turbolinks.js?body=1" for 67.198.97.43 at 2014-08-27 15:26:29 +0000


Started GET "/assets/chartkick.js?body=1" for 67.198.97.43 at 2014-08-27 15:26:29 +0000


Started GET "/visit/visits_by_day" for 67.198.97.43 at 2014-08-27 15:26:29 +0000
Processing by VisitsController#visits_by_day as JSON
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.8ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 15:29:13 +0000
Processing by VisitsController#show as HTML
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.3ms)[0m  [1mSELECT country FROM "visits"[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36m (0.4ms)[0m  [1mSELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT country FROM "visits"
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  Rendered visits/show.html.erb within layouts/application (31.6ms)
Completed 200 OK in 50ms (Views: 42.5ms | ActiveRecord: 5.0ms)


Started GET "/assets/application.css?body=1" for 67.198.97.43 at 2014-08-27 15:29:14 +0000


Started GET "/assets/visits.css?body=1" for 67.198.97.43 at 2014-08-27 15:29:14 +0000


Started GET "/assets/jquery.js?body=1" for 67.198.97.43 at 2014-08-27 15:29:14 +0000


Started GET "/assets/turbolinks.js?body=1" for 67.198.97.43 at 2014-08-27 15:29:14 +0000


Started GET "/assets/jquery_ujs.js?body=1" for 67.198.97.43 at 2014-08-27 15:29:14 +0000


Started GET "/assets/visits.js?body=1" for 67.198.97.43 at 2014-08-27 15:29:14 +0000


Started GET "/assets/application.js?body=1" for 67.198.97.43 at 2014-08-27 15:29:14 +0000


Started GET "/assets/chartkick.js?body=1" for 67.198.97.43 at 2014-08-27 15:29:14 +0000


Started GET "/visit/visits_by_country_day" for 67.198.97.43 at 2014-08-27 15:29:14 +0000
Processing by VisitsController#visits_by_country_day as JSON
Completed 500 Internal Server Error in 1ms

NoMethodError (undefined method `pluck' for nil:NilClass):
  app/controllers/visits_controller.rb:11:in `visits_by_country_day'


  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.7ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (22.7ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 15:32:53 +0000
Processing by VisitsController#show as HTML
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.3ms)[0m  [1mSELECT country FROM "visits"[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36m (0.4ms)[0m  [1mSELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT country FROM "visits"
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) AS count_all, country AS country, (DATE_TRUNC('day', ("created_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("created_at" IS NOT NULL) GROUP BY country, (DATE_TRUNC('day', ("created_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  Rendered visits/show.html.erb within layouts/application (30.9ms)
Completed 200 OK in 46ms (Views: 41.8ms | ActiveRecord: 3.8ms)


Started GET "/assets/application.css?body=1" for 67.198.97.43 at 2014-08-27 15:32:54 +0000


Started GET "/assets/turbolinks.js?body=1" for 67.198.97.43 at 2014-08-27 15:32:54 +0000


Started GET "/assets/jquery_ujs.js?body=1" for 67.198.97.43 at 2014-08-27 15:32:54 +0000


Started GET "/assets/visits.js?body=1" for 67.198.97.43 at 2014-08-27 15:32:54 +0000


Started GET "/assets/visits.css?body=1" for 67.198.97.43 at 2014-08-27 15:32:54 +0000


Started GET "/assets/jquery.js?body=1" for 67.198.97.43 at 2014-08-27 15:32:54 +0000


Started GET "/assets/application.js?body=1" for 67.198.97.43 at 2014-08-27 15:32:54 +0000


Started GET "/assets/chartkick.js?body=1" for 67.198.97.43 at 2014-08-27 15:32:54 +0000


Started GET "/visit/visits_by_country_day" for 67.198.97.43 at 2014-08-27 15:32:54 +0000
Processing by VisitsController#visits_by_country_day as JSON
Completed 500 Internal Server Error in 1ms

NoMethodError (undefined method `pluck' for nil:NilClass):
  app/controllers/visits_controller.rb:11:in `visits_by_country_day'


  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.7ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (22.2ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 15:33:30 +0000
Processing by VisitsController#show as HTML
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT country FROM "visits"
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35m (0.4ms)[0m  SELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT country FROM "visits"[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country, (DATE_TRUNC('day', ("created_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("created_at" IS NOT NULL) GROUP BY country, (DATE_TRUNC('day', ("created_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  Rendered visits/show.html.erb within layouts/application (29.5ms)
Completed 200 OK in 45ms (Views: 40.0ms | ActiveRecord: 3.8ms)


Started GET "/assets/application.css?body=1" for 67.198.97.43 at 2014-08-27 15:33:30 +0000


Started GET "/assets/turbolinks.js?body=1" for 67.198.97.43 at 2014-08-27 15:33:30 +0000


Started GET "/assets/visits.js?body=1" for 67.198.97.43 at 2014-08-27 15:33:30 +0000


Started GET "/assets/jquery_ujs.js?body=1" for 67.198.97.43 at 2014-08-27 15:33:30 +0000


Started GET "/assets/visits.css?body=1" for 67.198.97.43 at 2014-08-27 15:33:30 +0000


Started GET "/assets/jquery.js?body=1" for 67.198.97.43 at 2014-08-27 15:33:30 +0000


Started GET "/assets/application.js?body=1" for 67.198.97.43 at 2014-08-27 15:33:30 +0000


Started GET "/assets/chartkick.js?body=1" for 67.198.97.43 at 2014-08-27 15:33:30 +0000


Started GET "/visit/visits_by_country_day" for 67.198.97.43 at 2014-08-27 15:33:30 +0000
Processing by VisitsController#visits_by_country_day as JSON
Completed 500 Internal Server Error in 1ms

NoMethodError (undefined method `pluck' for nil:NilClass):
  app/controllers/visits_controller.rb:11:in `visits_by_country_day'


  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.2ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (35.6ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 15:34:10 +0000
Processing by VisitsController#show as HTML
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.3ms)[0m  [1mSELECT country FROM "visits"[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36m (0.5ms)[0m  [1mSELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT country FROM "visits"
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) AS count_all, country AS country, (DATE_TRUNC('day', ("created_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("created_at" IS NOT NULL) GROUP BY country, (DATE_TRUNC('day', ("created_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  Rendered visits/show.html.erb within layouts/application (32.9ms)
Completed 200 OK in 50ms (Views: 45.4ms | ActiveRecord: 3.8ms)


Started GET "/assets/jquery.js?body=1" for 67.198.97.43 at 2014-08-27 15:34:10 +0000


Started GET "/assets/jquery_ujs.js?body=1" for 67.198.97.43 at 2014-08-27 15:34:10 +0000


Started GET "/assets/visits.js?body=1" for 67.198.97.43 at 2014-08-27 15:34:10 +0000


Started GET "/assets/application.css?body=1" for 67.198.97.43 at 2014-08-27 15:34:10 +0000


Started GET "/assets/turbolinks.js?body=1" for 67.198.97.43 at 2014-08-27 15:34:10 +0000


Started GET "/assets/visits.css?body=1" for 67.198.97.43 at 2014-08-27 15:34:10 +0000


Started GET "/assets/application.js?body=1" for 67.198.97.43 at 2014-08-27 15:34:11 +0000


Started GET "/assets/chartkick.js?body=1" for 67.198.97.43 at 2014-08-27 15:34:11 +0000


Started GET "/visit/visits_by_country_day" for 67.198.97.43 at 2014-08-27 15:34:11 +0000
Processing by VisitsController#visits_by_country_day as JSON
Completed 500 Internal Server Error in 1ms

NoMethodError (undefined method `pluck' for nil:NilClass):
  app/controllers/visits_controller.rb:11:in `visits_by_country_day'


  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (36.7ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (59.2ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 15:34:13 +0000
Processing by VisitsController#show as HTML
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT country FROM "visits"
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35m (0.5ms)[0m  SELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT country FROM "visits"[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country, (DATE_TRUNC('day', ("created_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("created_at" IS NOT NULL) GROUP BY country, (DATE_TRUNC('day', ("created_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  Rendered visits/show.html.erb within layouts/application (32.9ms)
Completed 200 OK in 50ms (Views: 45.0ms | ActiveRecord: 3.8ms)


Started GET "/assets/application.css?body=1" for 67.198.97.43 at 2014-08-27 15:34:14 +0000


Started GET "/assets/jquery_ujs.js?body=1" for 67.198.97.43 at 2014-08-27 15:34:14 +0000


Started GET "/assets/jquery.js?body=1" for 67.198.97.43 at 2014-08-27 15:34:14 +0000


Started GET "/assets/turbolinks.js?body=1" for 67.198.97.43 at 2014-08-27 15:34:14 +0000


Started GET "/assets/visits.js?body=1" for 67.198.97.43 at 2014-08-27 15:34:14 +0000


Started GET "/assets/visits.css?body=1" for 67.198.97.43 at 2014-08-27 15:34:14 +0000


Started GET "/assets/application.js?body=1" for 67.198.97.43 at 2014-08-27 15:34:14 +0000


Started GET "/assets/chartkick.js?body=1" for 67.198.97.43 at 2014-08-27 15:34:14 +0000


Started GET "/visit/visits_by_country_day" for 67.198.97.43 at 2014-08-27 15:34:14 +0000
Processing by VisitsController#visits_by_country_day as JSON
Completed 500 Internal Server Error in 1ms

NoMethodError (undefined method `pluck' for nil:NilClass):
  app/controllers/visits_controller.rb:11:in `visits_by_country_day'


  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.2ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (23.2ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 15:34:16 +0000
Processing by VisitsController#show as HTML
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.3ms)[0m  [1mSELECT country FROM "visits"[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36m (0.5ms)[0m  [1mSELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT country FROM "visits"
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) AS count_all, country AS country, (DATE_TRUNC('day', ("created_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("created_at" IS NOT NULL) GROUP BY country, (DATE_TRUNC('day', ("created_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  Rendered visits/show.html.erb within layouts/application (32.0ms)
Completed 200 OK in 49ms (Views: 44.1ms | ActiveRecord: 3.9ms)


Started GET "/assets/application.css?body=1" for 67.198.97.43 at 2014-08-27 15:34:16 +0000


Started GET "/assets/jquery_ujs.js?body=1" for 67.198.97.43 at 2014-08-27 15:34:16 +0000


Started GET "/assets/visits.js?body=1" for 67.198.97.43 at 2014-08-27 15:34:16 +0000


Started GET "/assets/visits.css?body=1" for 67.198.97.43 at 2014-08-27 15:34:16 +0000


Started GET "/assets/jquery.js?body=1" for 67.198.97.43 at 2014-08-27 15:34:16 +0000


Started GET "/assets/turbolinks.js?body=1" for 67.198.97.43 at 2014-08-27 15:34:16 +0000


Started GET "/assets/chartkick.js?body=1" for 67.198.97.43 at 2014-08-27 15:34:16 +0000


Started GET "/assets/application.js?body=1" for 67.198.97.43 at 2014-08-27 15:34:16 +0000


Started GET "/visit/visits_by_country_day" for 67.198.97.43 at 2014-08-27 15:34:16 +0000
Processing by VisitsController#visits_by_country_day as JSON
Completed 500 Internal Server Error in 1ms

NoMethodError (undefined method `pluck' for nil:NilClass):
  app/controllers/visits_controller.rb:11:in `visits_by_country_day'


  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (22.9ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 15:34:49 +0000
Processing by VisitsController#show as HTML
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT country FROM "visits"
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35m (0.5ms)[0m  SELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT country FROM "visits"[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY country, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  Rendered visits/show.html.erb within layouts/application (36.7ms)
Completed 200 OK in 54ms (Views: 48.9ms | ActiveRecord: 4.3ms)


Started GET "/assets/jquery_ujs.js?body=1" for 67.198.97.43 at 2014-08-27 15:34:49 +0000


Started GET "/assets/visits.js?body=1" for 67.198.97.43 at 2014-08-27 15:34:49 +0000


Started GET "/assets/turbolinks.js?body=1" for 67.198.97.43 at 2014-08-27 15:34:49 +0000


Started GET "/assets/application.css?body=1" for 67.198.97.43 at 2014-08-27 15:34:49 +0000


Started GET "/assets/jquery.js?body=1" for 67.198.97.43 at 2014-08-27 15:34:49 +0000


Started GET "/assets/visits.css?body=1" for 67.198.97.43 at 2014-08-27 15:34:49 +0000


Started GET "/assets/application.js?body=1" for 67.198.97.43 at 2014-08-27 15:34:49 +0000


Started GET "/assets/chartkick.js?body=1" for 67.198.97.43 at 2014-08-27 15:34:49 +0000


Started GET "/visit/visits_by_country_day" for 67.198.97.43 at 2014-08-27 15:34:50 +0000
Processing by VisitsController#visits_by_country_day as JSON
Completed 500 Internal Server Error in 1ms

NoMethodError (undefined method `pluck' for nil:NilClass):
  app/controllers/visits_controller.rb:11:in `visits_by_country_day'


  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (22.7ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 15:35:16 +0000
Processing by VisitsController#show as HTML
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.3ms)[0m  [1mSELECT country FROM "visits"[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36m (0.5ms)[0m  [1mSELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT country FROM "visits"
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) AS count_all, country AS country, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY country, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  Rendered visits/show.html.erb within layouts/application (33.0ms)
Completed 200 OK in 48ms (Views: 43.6ms | ActiveRecord: 3.8ms)


Started GET "/assets/application.css?body=1" for 67.198.97.43 at 2014-08-27 15:35:16 +0000


Started GET "/assets/turbolinks.js?body=1" for 67.198.97.43 at 2014-08-27 15:35:16 +0000


Started GET "/assets/jquery.js?body=1" for 67.198.97.43 at 2014-08-27 15:35:16 +0000


Started GET "/assets/visits.css?body=1" for 67.198.97.43 at 2014-08-27 15:35:16 +0000


Started GET "/assets/visits.js?body=1" for 67.198.97.43 at 2014-08-27 15:35:16 +0000


Started GET "/assets/jquery_ujs.js?body=1" for 67.198.97.43 at 2014-08-27 15:35:16 +0000


Started GET "/assets/application.js?body=1" for 67.198.97.43 at 2014-08-27 15:35:16 +0000


Started GET "/assets/chartkick.js?body=1" for 67.198.97.43 at 2014-08-27 15:35:16 +0000


Started GET "/visit/visits_by_country_day" for 67.198.97.43 at 2014-08-27 15:35:16 +0000
Processing by VisitsController#visits_by_country_day as JSON
Completed 500 Internal Server Error in 1ms

NoMethodError (undefined method `pluck' for nil:NilClass):
  app/controllers/visits_controller.rb:11:in `visits_by_country_day'


  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (23.0ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 15:37:12 +0000
Processing by VisitsController#show as HTML
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.4ms)[0m  SELECT country FROM "visits"
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35m (0.5ms)[0m  SELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT country FROM "visits"[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY country, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  Rendered visits/show.html.erb within layouts/application (35.6ms)
Completed 200 OK in 53ms (Views: 47.8ms | ActiveRecord: 3.9ms)


Started GET "/assets/application.css?body=1" for 67.198.97.43 at 2014-08-27 15:37:12 +0000


Started GET "/assets/turbolinks.js?body=1" for 67.198.97.43 at 2014-08-27 15:37:12 +0000


Started GET "/assets/jquery_ujs.js?body=1" for 67.198.97.43 at 2014-08-27 15:37:12 +0000


Started GET "/assets/visits.js?body=1" for 67.198.97.43 at 2014-08-27 15:37:12 +0000


Started GET "/assets/visits.css?body=1" for 67.198.97.43 at 2014-08-27 15:37:12 +0000


Started GET "/assets/jquery.js?body=1" for 67.198.97.43 at 2014-08-27 15:37:12 +0000


Started GET "/assets/chartkick.js?body=1" for 67.198.97.43 at 2014-08-27 15:37:12 +0000


Started GET "/assets/application.js?body=1" for 67.198.97.43 at 2014-08-27 15:37:12 +0000


Started GET "/visit/visits_by_country_day" for 67.198.97.43 at 2014-08-27 15:37:12 +0000
Processing by VisitsController#visits_by_country_day as JSON
Completed 500 Internal Server Error in 1ms

NoMethodError (undefined method `pluck' for nil:NilClass):
  app/controllers/visits_controller.rb:11:in `visits_by_country_day'


  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.8ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (22.9ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 15:37:22 +0000
Processing by VisitsController#show as HTML
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.3ms)[0m  [1mSELECT country FROM "visits"[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (1.6ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36m (0.4ms)[0m  [1mSELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT country FROM "visits"
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) AS count_all, country AS country, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY country, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  Rendered visits/show.html.erb within layouts/application (72.4ms)
Completed 200 OK in 88ms (Views: 82.0ms | ActiveRecord: 5.1ms)


Started GET "/assets/application.css?body=1" for 67.198.97.43 at 2014-08-27 15:37:22 +0000


Started GET "/assets/jquery_ujs.js?body=1" for 67.198.97.43 at 2014-08-27 15:37:22 +0000


Started GET "/assets/visits.js?body=1" for 67.198.97.43 at 2014-08-27 15:37:22 +0000


Started GET "/assets/turbolinks.js?body=1" for 67.198.97.43 at 2014-08-27 15:37:22 +0000


Started GET "/assets/visits.css?body=1" for 67.198.97.43 at 2014-08-27 15:37:22 +0000


Started GET "/assets/jquery.js?body=1" for 67.198.97.43 at 2014-08-27 15:37:22 +0000


Started GET "/assets/application.js?body=1" for 67.198.97.43 at 2014-08-27 15:37:22 +0000


Started GET "/assets/chartkick.js?body=1" for 67.198.97.43 at 2014-08-27 15:37:22 +0000


Started GET "/visit/visits_by_country_day" for 67.198.97.43 at 2014-08-27 15:37:23 +0000
Processing by VisitsController#visits_by_country_day as JSON
Completed 500 Internal Server Error in 1ms

NoMethodError (undefined method `pluck' for nil:NilClass):
  app/controllers/visits_controller.rb:11:in `visits_by_country_day'


  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (0.7ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (22.2ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 15:43:37 +0000
Processing by VisitsController#show as HTML
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT country FROM "visits"
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35m (0.4ms)[0m  SELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT country FROM "visits"[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY country, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  Rendered visits/show.html.erb within layouts/application (34.1ms)
Completed 200 OK in 53ms (Views: 44.7ms | ActiveRecord: 5.3ms)


Started GET "/assets/application.css?body=1" for 67.198.97.43 at 2014-08-27 15:43:38 +0000


Started GET "/assets/jquery_ujs.js?body=1" for 67.198.97.43 at 2014-08-27 15:43:38 +0000


Started GET "/assets/visits.css?body=1" for 67.198.97.43 at 2014-08-27 15:43:38 +0000


Started GET "/assets/jquery.js?body=1" for 67.198.97.43 at 2014-08-27 15:43:38 +0000


Started GET "/assets/visits.js?body=1" for 67.198.97.43 at 2014-08-27 15:43:38 +0000


Started GET "/assets/turbolinks.js?body=1" for 67.198.97.43 at 2014-08-27 15:43:38 +0000


Started GET "/assets/chartkick.js?body=1" for 67.198.97.43 at 2014-08-27 15:43:38 +0000


Started GET "/assets/application.js?body=1" for 67.198.97.43 at 2014-08-27 15:43:38 +0000


Started GET "/visit/visits_by_country_day" for 67.198.97.43 at 2014-08-27 15:43:38 +0000
Processing by VisitsController#visits_by_country_day as JSON
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) AS count_all, country AS country, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY country, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.8ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 15:44:01 +0000
Processing by VisitsController#show as HTML
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT country FROM "visits"
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35m (0.5ms)[0m  SELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT country FROM "visits"[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY country, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  Rendered visits/show.html.erb within layouts/application (33.0ms)
Completed 200 OK in 48ms (Views: 43.3ms | ActiveRecord: 4.1ms)


Started GET "/assets/application.css?body=1" for 67.198.97.43 at 2014-08-27 15:44:01 +0000


Started GET "/assets/turbolinks.js?body=1" for 67.198.97.43 at 2014-08-27 15:44:01 +0000


Started GET "/assets/jquery.js?body=1" for 67.198.97.43 at 2014-08-27 15:44:01 +0000


Started GET "/assets/jquery_ujs.js?body=1" for 67.198.97.43 at 2014-08-27 15:44:01 +0000


Started GET "/assets/visits.js?body=1" for 67.198.97.43 at 2014-08-27 15:44:01 +0000


Started GET "/assets/visits.css?body=1" for 67.198.97.43 at 2014-08-27 15:44:01 +0000


Started GET "/assets/chartkick.js?body=1" for 67.198.97.43 at 2014-08-27 15:44:01 +0000


Started GET "/assets/application.js?body=1" for 67.198.97.43 at 2014-08-27 15:44:01 +0000


Started GET "/visit/visits_by_country_day" for 67.198.97.43 at 2014-08-27 15:44:02 +0000
Processing by VisitsController#visits_by_country_day as JSON
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) AS count_all, country AS country, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY country, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
Completed 200 OK in 11ms (Views: 0.6ms | ActiveRecord: 2.5ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 15:44:10 +0000
Processing by VisitsController#show as HTML
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT country FROM "visits"
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35m (0.4ms)[0m  SELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT country FROM "visits"[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY country, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  Rendered visits/show.html.erb within layouts/application (31.7ms)
Completed 200 OK in 47ms (Views: 42.8ms | ActiveRecord: 3.8ms)


Started GET "/assets/application.css?body=1" for 67.198.97.43 at 2014-08-27 15:44:11 +0000


Started GET "/assets/jquery_ujs.js?body=1" for 67.198.97.43 at 2014-08-27 15:44:11 +0000


Started GET "/assets/visits.css?body=1" for 67.198.97.43 at 2014-08-27 15:44:11 +0000


Started GET "/assets/turbolinks.js?body=1" for 67.198.97.43 at 2014-08-27 15:44:11 +0000


Started GET "/assets/visits.js?body=1" for 67.198.97.43 at 2014-08-27 15:44:11 +0000


Started GET "/assets/jquery.js?body=1" for 67.198.97.43 at 2014-08-27 15:44:11 +0000


Started GET "/assets/application.js?body=1" for 67.198.97.43 at 2014-08-27 15:44:11 +0000


Started GET "/assets/chartkick.js?body=1" for 67.198.97.43 at 2014-08-27 15:44:11 +0000


Started GET "/visit/visits_by_country_day" for 67.198.97.43 at 2014-08-27 15:44:11 +0000
Processing by VisitsController#visits_by_country_day as JSON
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) AS count_all, country AS country, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY country, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 2.7ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 15:47:53 +0000
Processing by VisitsController#show as HTML
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT country FROM "visits"
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT country FROM "visits"
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) AS count_all, country AS country, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY country, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36m (0.5ms)[0m  [1mSELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  Rendered visits/show.html.erb within layouts/application (32.9ms)
Completed 200 OK in 48ms (Views: 43.8ms | ActiveRecord: 3.7ms)


Started GET "/assets/application.css?body=1" for 67.198.97.43 at 2014-08-27 15:47:53 +0000


Started GET "/assets/visits.js?body=1" for 67.198.97.43 at 2014-08-27 15:47:53 +0000


Started GET "/assets/turbolinks.js?body=1" for 67.198.97.43 at 2014-08-27 15:47:53 +0000


Started GET "/assets/jquery_ujs.js?body=1" for 67.198.97.43 at 2014-08-27 15:47:53 +0000


Started GET "/assets/visits.css?body=1" for 67.198.97.43 at 2014-08-27 15:47:53 +0000


Started GET "/assets/jquery.js?body=1" for 67.198.97.43 at 2014-08-27 15:47:53 +0000


Started GET "/assets/application.js?body=1" for 67.198.97.43 at 2014-08-27 15:47:53 +0000


Started GET "/assets/chartkick.js?body=1" for 67.198.97.43 at 2014-08-27 15:47:53 +0000


Started GET "/visit/visits_by_country_day" for 67.198.97.43 at 2014-08-27 15:47:54 +0000
Processing by VisitsController#visits_by_country_day as JSON
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) AS count_all, country AS country, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY country, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.8ms)


Started GET "/visit/visits_by_day" for 67.198.97.43 at 2014-08-27 15:47:54 +0000
Processing by VisitsController#visits_by_day as JSON
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 15:48:35 +0000
Processing by VisitsController#show as HTML
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.3ms)[0m  [1mSELECT country FROM "visits"[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT country FROM "visits"[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY country, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35m (0.4ms)[0m  SELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  Rendered visits/show.html.erb within layouts/application (73.9ms)
Completed 200 OK in 89ms (Views: 84.5ms | ActiveRecord: 4.2ms)


Started GET "/assets/turbolinks.js?body=1" for 67.198.97.43 at 2014-08-27 15:48:35 +0000


Started GET "/assets/visits.css?body=1" for 67.198.97.43 at 2014-08-27 15:48:35 +0000


Started GET "/assets/jquery.js?body=1" for 67.198.97.43 at 2014-08-27 15:48:35 +0000


Started GET "/assets/jquery_ujs.js?body=1" for 67.198.97.43 at 2014-08-27 15:48:35 +0000


Started GET "/assets/visits.js?body=1" for 67.198.97.43 at 2014-08-27 15:48:35 +0000


Started GET "/assets/application.css?body=1" for 67.198.97.43 at 2014-08-27 15:48:35 +0000


Started GET "/assets/application.js?body=1" for 67.198.97.43 at 2014-08-27 15:48:35 +0000


Started GET "/assets/chartkick.js?body=1" for 67.198.97.43 at 2014-08-27 15:48:35 +0000


Started GET "/visit/visits_by_day" for 67.198.97.43 at 2014-08-27 15:48:35 +0000
Processing by VisitsController#visits_by_day as JSON
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.8ms)


Started GET "/visit/visits_by_country_day" for 67.198.97.43 at 2014-08-27 15:48:35 +0000
Processing by VisitsController#visits_by_country_day as JSON
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) AS count_all, country AS country, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY country, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.5ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 15:51:17 +0000
Processing by VisitsController#show as HTML
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT country FROM "visits"
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT country FROM "visits"
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, country AS country, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY country, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36m (0.5ms)[0m  [1mSELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  Rendered visits/show.html.erb within layouts/application (32.2ms)
Completed 200 OK in 47ms (Views: 42.7ms | ActiveRecord: 3.6ms)


Started GET "/assets/application.css?body=1" for 67.198.97.43 at 2014-08-27 15:51:18 +0000


Started GET "/assets/visits.js?body=1" for 67.198.97.43 at 2014-08-27 15:51:18 +0000


Started GET "/assets/turbolinks.js?body=1" for 67.198.97.43 at 2014-08-27 15:51:18 +0000


Started GET "/assets/visits.css?body=1" for 67.198.97.43 at 2014-08-27 15:51:18 +0000


Started GET "/assets/jquery.js?body=1" for 67.198.97.43 at 2014-08-27 15:51:18 +0000


Started GET "/assets/jquery_ujs.js?body=1" for 67.198.97.43 at 2014-08-27 15:51:18 +0000


Started GET "/assets/chartkick.js?body=1" for 67.198.97.43 at 2014-08-27 15:51:18 +0000


Started GET "/assets/application.js?body=1" for 67.198.97.43 at 2014-08-27 15:51:18 +0000


Started GET "/visit/visits_by_country_day" for 67.198.97.43 at 2014-08-27 15:51:18 +0000
Processing by VisitsController#visits_by_country_day as JSON
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) AS count_all, country AS country, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY country, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.8ms)


Started GET "/visit/visits_by_day" for 67.198.97.43 at 2014-08-27 15:51:18 +0000
Processing by VisitsController#visits_by_day as JSON
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.5ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 15:55:11 +0000
Processing by VisitsController#show as HTML
  Rendered visits/show.html.erb within layouts/application (2.0ms)
Completed 500 Internal Server Error in 6ms

ActionView::Template::Error (undefined method `group_by_day' for nil:NilClass):
    2:   <!-- Line Chart - Single Series -->
    3:   <div class="col-xs-6">
    4:     <h3>Visits By Day</h3>
    5:     <%= line_chart @visits.group_by_day(:visited_at, format: "%B %d, %Y").count, discrete: true %>
    6:   </div>
    7: 
    8:   <!-- Line Chart - Multiple Series -->
  app/views/visits/show.html.erb:5:in `_app_views_visits_show_html_erb___2605426818798035450_70202119336620'


  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.3ms)
  Rendered /home/action/.rvm/gems/ruby-2.0.0-p247/gems/actionpack-4.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (17.2ms)


Started GET "/" for 67.198.97.43 at 2014-08-27 15:57:05 +0000
Processing by VisitsController#show as HTML
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.3ms)[0m  [1mSELECT country FROM "visits"[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT country FROM "visits"[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'United States' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'Germany' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE "visits"."country" = 'South Korea' AND ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY country, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35m (0.4ms)[0m  SELECT MAX("visits"."load_time") AS maximum_load_time, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) AS count_all, country AS country FROM "visits" GROUP BY country
  Rendered visits/show.html.erb within layouts/application (33.8ms)
Completed 200 OK in 51ms (Views: 43.1ms | ActiveRecord: 5.3ms)


Started GET "/assets/application.css?body=1" for 67.198.97.43 at 2014-08-27 15:57:05 +0000


Started GET "/assets/turbolinks.js?body=1" for 67.198.97.43 at 2014-08-27 15:57:05 +0000


Started GET "/assets/visits.css?body=1" for 67.198.97.43 at 2014-08-27 15:57:05 +0000


Started GET "/assets/jquery.js?body=1" for 67.198.97.43 at 2014-08-27 15:57:05 +0000


Started GET "/assets/jquery_ujs.js?body=1" for 67.198.97.43 at 2014-08-27 15:57:05 +0000


Started GET "/assets/visits.js?body=1" for 67.198.97.43 at 2014-08-27 15:57:05 +0000


Started GET "/assets/chartkick.js?body=1" for 67.198.97.43 at 2014-08-27 15:57:05 +0000


Started GET "/assets/application.js?body=1" for 67.198.97.43 at 2014-08-27 15:57:05 +0000


Started GET "/visit/visits_by_country_day" for 67.198.97.43 at 2014-08-27 15:57:05 +0000
Processing by VisitsController#visits_by_country_day as JSON
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) AS count_all, country AS country, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY country, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.8ms)


Started GET "/visit/visits_by_day" for 67.198.97.43 at 2014-08-27 15:57:05 +0000
Processing by VisitsController#visits_by_day as JSON
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC' AS day FROM "visits" WHERE ("visited_at" IS NOT NULL) GROUP BY (DATE_TRUNC('day', ("visited_at"::timestamptz - INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC') + INTERVAL '0 hour') AT TIME ZONE 'Etc/UTC'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms)
